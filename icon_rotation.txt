<div class="fixed z-50 right-6 bottom-6 group">
    
    <div class="absolute bottom-full right-0 mb-3 w-max opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none">
        <div class="bg-[#0f1923] text-[#00f0ff] text-xs font-bold py-1 px-3 border border-[#00f0ff] shadow-[0_0_10px_#00f0ff] uppercase tracking-widest clip-path-polygon">
            Thử vận may
        </div>
    </div>

    <button id="lucky-wheel-btn" aria-label="Vòng quay may mắn" 
            class="relative w-16 h-16 rounded-full flex items-center justify-center 
                   bg-[#0f1923] border-2 border-[#00f0ff] 
                   shadow-[0_0_15px_rgba(0,240,255,0.4)] 
                   hover:shadow-[0_0_25px_rgba(255,70,85,0.8)] 
                   hover:border-[#ff4655] hover:scale-110 
                   transition-all duration-300 ease-out overflow-hidden">
        
        <div class="absolute inset-0 bg-[radial-gradient(circle,rgba(0,240,255,0.1)_0%,transparent_70%)]"></div>

        <svg width="48" height="48" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg" class="wheel-rotate relative z-10">
            <g transform="translate(50,50)">
                <circle cx="0" cy="0" r="48" stroke="#ffffff" stroke-opacity="0.1" stroke-width="1" stroke-dasharray="4 4" />
                
                <path d="M0 0 L50 0 A50 50 0 0 1 35.35 35.35 Z" fill="#00f0ff" fill-opacity="0.8"></path> 
                <path d="M0 0 L0 50 A50 50 0 0 1 -35.35 35.35 Z" fill="#00f0ff" fill-opacity="0.8"></path>
                <path d="M0 0 L-50 0 A50 50 0 0 1 -35.35 -35.35 Z" fill="#00f0ff" fill-opacity="0.8"></path>
                <path d="M0 0 L0 -50 A50 50 0 0 1 35.35 -35.35 Z" fill="#00f0ff" fill-opacity="0.8"></path>

                <path d="M0 0 L35.35 35.35 A50 50 0 0 1 0 50 Z" fill="#1c252e"></path>
                <path d="M0 0 L-35.35 35.35 A50 50 0 0 1 -50 0 Z" fill="#1c252e"></path>
                <path d="M0 0 L-35.35 -35.35 A50 50 0 0 1 0 -50 Z" fill="#1c252e"></path>
                <path d="M0 0 L35.35 -35.35 A50 50 0 0 1 50 0 Z" fill="#1c252e"></path>

                <circle cx="0" cy="0" r="12" fill="#0f1923" stroke="#ff4655" stroke-width="2"></circle>
                <circle cx="0" cy="0" r="4" fill="#ff4655"></circle>
            </g>
        </svg>

        <div class="absolute top-1 left-1/2 -translate-x-1/2 z-20 w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-t-[8px] border-t-[#ff4655] drop-shadow-md"></div>
    </button>
</div>

<style>
    /* Animation quay chậm */
    .wheel-rotate {
        transform-origin: 50% 50%;
        animation: spin-slow 8s linear infinite;
    }

    /* Khi hover thì quay nhanh hơn chút */
    #lucky-wheel-btn:hover .wheel-rotate {
        animation-duration: 2s;
    }

    @keyframes spin-slow {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }

    /* Tạo hình vát góc cho Tooltip (giống UI Valorant) */
    .clip-path-polygon {
        clip-path: polygon(10% 0, 100% 0, 100% 100%, 0 100%, 0 25%);
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function(){
      const btn = document.getElementById('lucky-wheel-btn');
      if(!btn) return;
      
      btn.addEventListener('click', function(e){
        // Mở trang quay trong tab mới (hoặc mở modal tùy bạn)
        window.open('/admin/rotation', '_blank');
      });
    });
</script>